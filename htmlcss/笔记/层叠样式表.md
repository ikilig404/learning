# CSS 基础

## CSS 简介

CSS: 层叠样式表（Cascading Style Sheets）
CSS也是一种标记语言。

## CSS的编写位置

1. 行内样式
2. 内部样式：写在`<head>`的`<style>`里面
3. 外部样式：单独的xxx.css文件，在`<head>`写`<link rel="stylesheet" href="./a.css">`
    * 可重用
    * 触发浏览器缓存机制

优先级规则：行内样式 > 内部样式 = 外部样式；

内部样式和外部样式优先级相同，后面的会覆盖前面的。

## CSS语法规范

结构：选择器 声明块

## CSS代码风格

* 展开风格
* 紧凑风格

## CSS基本选择器

### 通配选择器

作用：可以选中所有的 html 元素

语法：

```css
* {
    属性名: 属性值;
}
```

### 元素选择器

作用：为页面中某种元素统一设置样式。

语法：

```css
标签名 {
    属性名: 属性值;
}
```

### 类选择器

作用：根据元素的`class`值，选中某些元素。

语法：

```css
.类名 {
    属性名: 属性值;
}
```

> 一个元素不能写多个`class`属性，一个元素的`class`属性能写多个值，用空格隔开。

### ID选择器

作用：根据元素的`id`属性值，精准地选中某个元素。

语法：

```css
#id值 {
    属性名: 属性值;
}
```

## 复合选择器

### 交集选择器

作用：选中同时符合多个条件的元素。

语法：

```css
元素名.类名 {
    属性名: 属性值;
}

.类名.类名 {
    属性名: 属性值;
}
```

### 并集选择器

作用：选中多个选择器对应的元素，又称：分组选择器

语法：选择器1,选择器2,选择器3,选择器4 {}

### 后代选择器

作用：选中指定元素中，符合要求的后代元素。

语法：选择器1 选择器2 选择器3 {}

### 子代选择器

作用：选中指定元素中，符合要求的子元素。

语法：选择器1>选择器2>选择器3 {}

### 兄弟选择器

* 相邻兄弟选择器
  * 作用：选中指定元素后，符合条件的下一个相邻兄弟元素。
  * 语法：`选择器1+选择器2 {}`
    * 示例：

      ```css
      div+p {
          color: red;
      }
      ```

* 通用兄弟选择器
  * 作用：选中指定元素后，符合条件的所有兄弟元素。
  * 语法：`选择器1~选择器2 {}`
  * 示例：
  
    ```css
    div~p {
        color: red;
    }
    ```

### 属性选择器

* 作用：选中属性值符合一定要求的元素。
* 语法：
    1. `[属性名]`：选中具有某个属性的元素。
    2. `[属性名="值"]`：选中包含某个属性，且属性值等于指定值的元素。
    3. `[属性名^="值"]`：选中包含某个属性，且属性值以指定的值开头的元素。
    4. `[属性名$="值"]`：选中包含某个属性，且属性值以指定的值结尾的元素。
    5. `[属性名*="值"]`：选中包含某个属性，且属性值包含指定值的元素。
* 举例：

    ```css
    [title] {
        color: red;
    }
    [title="atguigu1"] {
        color: red;
    }
    [title^="g"] {
        color: red;
    }
    [title$="4"] {
        color: red;
    }
    [title*="u"] {
        color: red;
    }
    ```

## 伪类选择器

什么是伪类？

很像类，但不是类，是元素特殊状态的一种描述。

### 动态伪类

1. `:link`：超链接未被访问的状态。
2. `:visited`：超链接访问过的状态。
3. `:hover`：鼠标悬停在元素上的状态。
4. `:active`：元素激活的状态。
5. `:focus`：获取焦点的元素。

### 结构伪类

### 否定伪类

### 目标伪类

### 语言伪类

## 伪元素选择器

* 作用：选中元素中的一些特殊位置。
* 常用伪元素：
  * `::first-letter`：选中元素中的第一个文字。
  * `::first-line`：选中元素中的第一行文字。
  * `::selection`：选中被鼠标选中的内容。
  * `::placeholder`：选中输入框的提示文字。
  * `::before`：在元素最开始的位置，创建一个子元素（必须用`content`属性指定内容）。
  * `::after`：在元素最后的位置，创建一个子元素（必须用`content`属性指定内容）。

## 选择器优先级

行内 > ID选择器 > 类选择器 > 元素选择器 > 通配选择器

### 选择器权重

* 计算方式：每个选择器，都可以计算出一组权重，格式为：`(a, b, c)`
  * `a`: ID选择器的个数。
  * `b`: 类、伪类、属性选择器的个数。
  * `c`: 元素、伪元素选择器的个数。
* 比较规则：按照从左到右的顺序，依次比较大小，当前位胜出以后，后面的不再比较。

## CSS 三大特性

* 层叠性
  * 概念：如果发生了样式冲突，那么就会根据一定的规则（选择器优先级），进行样式的层叠（覆盖）。
* 继承性
  * 概念：元素会自动拥有其父元素、或其祖先元素上所设置的某些样式。
  * 规则：优先继承离得近的。
  * 常见的可继承属性：`text-xxx, font-xxx, line-xxx, color...`
* 优先级
  * `!important > 行内样式 > ID选择器 > 类选择器 > 元素选择器 > * > 继承的样式`

> 并集选择器的权重是分开计算的！！！

## 颜色表示

### rgb或rgba

编写方式：使用红、绿、蓝这三种光的三原色进行组合。

* r表示红色
* g表示绿色
* b表示蓝色
* a表示透明度

## 常用文本属性

`line-height`: 行高，值可以有四种形式

* 像素：`line-height: 40px;`
* 单词：`line-height: normal;`
* 数值（常用）：`line-height: 1.5`
* 百分比：`line-height: 150%`

`vertical-align`

* 作用：用于指定同一行元素之间，或者表格单元格内文字的垂直对齐方式。
* 常用值：
  1. `baseline`：默认值，使元素的基线与父元素的基线对齐。
  2. `top`: 使元素的顶部与其所在行的顶部对齐。
  3. `middle`: 使元素的中部与父元素的基线加上父元素字母x的一半对齐。
  4. `bottom`: 使元素的底部与其所在行的底部对齐。

> vertical-align 不能控制块元素。

## 元素的显示模式

### 块元素（block）

又称：块级元素

特点：

1. 在页面中独占一行，不会与任何元素共用一行，是从上到下排列的。
2. 默认宽度：撑满父元素。
3. 默认高度：由内容撑开。
4. 可以通过 CSS 设置宽高。

### 行内元素（inline）

又称：内联元素

特点：

1. 在页面中不独占一行，一行中不能容纳下的行内元素，会在下一行继续从左到右排列。
2. 默认宽度：由内容撑开。
3. 默认高度：由内容撑开。
4. 无法通过 CSS 设置宽、高。

### 行内块元素

又称：内联块元素

特点：

1. 在页面中不独占一行，一行中不能容纳下的行内元素，会在下一行继续从左到右排列。
2. 默认宽度：由内容撑开。
3. 默认高度：由内容撑开。
4. 可以通过 CSS 设置宽、高。

### 总结各元素的显示模式

块元素：

* 主体结构标签：`<html>`、`<body>`
* 排版标签：`<h1>`~`<h6>`、`<hr>`、`<p>`、`<pre>`、`<div>`
* 列表标签：`<ul>`、`<ol>`、`<li>`、`<dl>`、`<dt>`、`<dd>`
* 表格相关标签：`<table>`、`<tbody>`、`<thead>`、`<tfoot>`、`<tr>`、`<caption>`
* 表单相关标签：`<form>`、`<option>`

行内元素：

* 文本标签：`<br>`、`<em>`、`<strong>`、`<sup>`、`<sub>`、`<del>`、`<ins>`
* `<a>`、`<label>`

行内块元素

* 图片：`<img>`
* 单元格：`<td>`、`<th>`
* 表单控件：`<input>`、`<textarea>`、`<select>`、`<button>`
* 框架标签：`<iframe>`

## 盒子模型的组成

CSS 会把所有的html元素看成是一个盒子，所有的样式也都是基于这个盒子。

1. `margin`（外边距）：盒子与外界的距离。
2. `border`（边框）：盒子的边框。
3. `padding`（内边距）：紧贴内容的补白区域。
4. `content`（内容）：元素中的文本或后代元素都是它的内容。

盒子大小 = content + 左右padding + 左右border

> 外边距 margin 不会影响盒子的大小，但会影响盒子的位置。

### 盒子内边距

| CSS 属性名       | 功能     | 属性值                |
| ---------------- | -------- | --------------------- |
| `padding-top`    | 上内边距 | 长度                  |
| `padding-right`  | 右内边距 | 长度                  |
| `padding-bottom` | 下内边距 | 长度                  |
| `padding-left`   | 左内边距 | 长度                  |
| `padding`        | 复合属性 | 长度，可以设置1~4个值 |

`padding`复合属性的使用规则：

1. `padding`: `10px`; 四个方向内边距都是`10px`。
2. `padding`: `10px 20px`; 上10px，左右20px。(上下、左右)
3. `padding`: `10px 20px 30px`;上10px，左右20px，下30px。(上、左右、下)
4. `padding`: `10px 20px 30px 40px`;上10px，右20px，下30px，左40px。(上、右、下、左)

> 1. padding 的值不能为负数。
> 2. 内元素的左右内边距是没问题的，上下内边距不能完美的设置。
> 3. 块级元素、行内块元素，四个方向内边距都可以完美设置。

### 盒子外边距 `margin`

| CSS属性名       | 功能                                            | 属性值         |
| --------------- | ----------------------------------------------- | -------------- |
| `margin-left`   | 左外边距                                        | CSS 中的长度值 |
| `margin-right`  | 右外边距                                        | CSS 中的长度值 |
| `margin-top`    | 上外边距                                        | CSS 中的长度值 |
| `margin-bottom` | 下外边距                                        | CSS 中的长度值 |
| `margin`        | 复合属性，可以写1~4个值，规律同padding（顺时针） | CSS 中的长度值 |

> 1. 子元素的`margin`是参考父元素的`content`计算的。（（因为是父亲的`content`中承装着子元素）
> 2. 上`margin`、左`margin`：影响自己的位置；下`margin`、右`margin`：影响后面兄弟元素的位置。
> 3. 块级元素、行内块元素，均可以完美地设置四个方向的`margin`；但行内元素，左右`margin`可以完美设置，上下margin 设置无效。
> 4. `margin`的值也可以是`auto`，如果给一个块级元素设置左右`margin`都为`auto`，该块级元素会在父元素中水平居中。
> 5. `margin`的值可以是负值。

### `margin`塌陷问题

**什么是margin塌陷？**

第一个子元素的上margin会作用在父元素上，最后一个子元素的下margin会作用在父元素上。

**如何解决margin塌陷？**

* 方案一：给父元素设置不为 0 的`padding`。
* 方案二：给父元素设置宽度不为0的`border`。
* 方案三：给父元素设置css样式`overflow：hidden`

### `margin`合并问题

**什么是margin 合并?**

上面兄弟元素的下外边距和下面兄弟元素的上外边距会合并，取一个最大的值，而不是相加。

**如何解决`margin`合并？**

无需解决，布局的时候上下的兄弟元素，只给一个设置上下外边距就可以了。

## 处理内容溢出

| CSS属性名    | 功能                         | 属性值                                                       |
| ------------ | :--------------------------- | ------------------------------------------------------------ |
| `overflow`   | 溢出内容的处理方式           | `visible`：显示，默认值<br>`hidden`：隐藏<br>`scroll`：显示滚动条，不论内容是否溢出<br>`auto`：自动显示滚动条，内容不溢出不显示 |
| `overflow-x` | 水平方向溢出内容的处理方式   | 同overflow                                                   |
| `overflow-y` | 垂直方向溢出内容给的处理方式 | 同overflow                                                   |

> 1. `overflow-x`、`overflow-y` 不能一个是`hidden`，一个是`visible`，是实验性属性，不建议使用。
> 2. `overflow` 常用的值是` hidden `和 `auto`，除了能处理溢出的显示方式，还可以解决很多疑难杂症。

## 隐藏元素的方式

**方式一：visibility属性**

`visibility`属性默认值是`show`，如果设置为`hidden`，元素会隐藏。元素看不见了，还占有原来的位置（元素的大小依然保持）。

**方式二：：display属性**

设置`display:none`，就可以让元素隐藏。彻底地隐藏，不但看不见，也不占用任何位置，没有大小宽高。

## 样式的继承

有些样式会继承，元素如果本身设置了某个样式，就使用本身设置的样式；但如果本身没有设置某个样式，会从父元素开始一级一级继承（优先继承离得近的祖先元素）。

**会继承的css属性**

字体属性、文本属性（除了vertical-align）、文字颜色等。

**不会继承的css 属性**

边框、背景、内边距、外边距、宽高、溢出方式等。

> 规律：能继承的属性，都是不影响布局的，简单说：都是和盒子模型没关系的。

## 默认样式

元素一般都有些默认的样式，例如：

1. `<a>`元素：下划线、字体颜色、鼠标小手。
2. `<h1>～<h6>`元素：文字加粗、文字大小、上下外边距。
3. `<p>`元素：上下外边距
4. `<ul>、<o1>`元素：左内边距
5. `body`元素：8px外边距(4个方向)

> 优先级：元素的默认样式>继承的样式，所以如果要重置元素的默认样式，选择器一定要直接选择器到该元素。

## 布局小技巧

1. 内元素、行内块元素，可以被父元素当做文本处理。即：可以像处理文本对齐一样，去处理：行内、行内块在父元素中的对齐。例如:`text-align`、`line-height`、`text-indent` 等。
2. 如何让子元素，在父亲中水平居中：
   * 若子元素为块元素，给父元素加上：`margin: θauto`；。
   * 若子元素为行内元素、行内块元素，给父元素加上：`text-align: center`。
3. 如何让子元素，在父亲中垂直居中：
   * 若子元素为块元素，给子元素加上：`margin-top`，值为：（父元素 content-子元素盒子总高）／ 2。
   * 若子元素为行内元素、行内块元素：让父元素的 `height = line-height`，每个子元素都加上：`vertical-align: middle;`。补充：若想绝对垂直居中，父元素font-size 设置为θ。

## 元素之间的空白问题

**产生的原因：**行内元素、行内块元素，彼此之间的换行会被浏览器解析为一个空白字符。

**解决方案：**

1. 案一：去掉换行和空格（不推荐）。
2. 案二：给父元素设置`font-size: θ`，再给需要显示文字的元素，单独设置字体大小（推荐）。

## 行内块的幽灵空白问题

**产生原因：**行内块元素与文本的基线对齐，而文本的基线与文本最底端之间是有一定距离的。

**解决方案：**

1. 方案一：给行行内块设置`vertical-align`，值不为 `baseline` 即可，设置为 `middel`、`bottom`、`top `均可。
2. 方案二：若父元素中只有一张图片，设置图片为`display：block`。
3. 方案三：给父元素设置`font-size：θ`。如果该行内块内部还有文本，则需单独设置font-size。

## 浮动

### 浮动的简介

在最初，浮动是用来实现文字环绕图片效果的，现在浮动是主流的页面布局方式之一。

### 元素浮动后的特点

1. 离文档流。
2. 管浮动前是什么元素，浮动后：默认宽与高都是被内容撑开（尽可能小），而且可以设置宽高。
3. 会独占一行，可以与其他元素共用一行。
4. 会`margin`合并，也不会 `margin` 塌陷，能够完美的设置四个方向的 `margin` 和 `padding`。
5. 会像行内块一样被当做文本处理（没有行内块的空白问题）。

### 浮动后会有哪些影响

* 对兄弟元素的影响：后面的兄弟元素，会占据浮动元素之前的位置，在浮动元素的下面；对前面的兄弟无影响。

* 对父元素的影响：不能撑起父元素的高度，导致父元素高度塌陷；但父元素的宽度依然束缚浮动的元素。

### 解决浮动产生的影响（清除浮动）

解决方案：

1. 方案一：给父元素指定高度。

2. 方案二：给父元素也设置浮动，带来其他影响。

3. 方案三：给父元素设置overflow:hidden。

4. 方案四：在所有浮动元素的最后面，添加一个块级元素，并给该块级元素设置clear:both。

5. 方案五：给浮动元素的父元素，设置伪元素，通过伪元素清除浮动，原理与方案四相同。===>推荐使用

   ```css
   .parent::after{
       content: '';
       display: block;
       clear: both;
   }
   ```

> 布局中的一个原则：设置浮动的时候，兄弟元素要么全都浮动，要么全都不浮动。

## 相对定位

### 如何设置相对定位？

* 给元素设置`position: relative` 即可实现相对定位。
* 可以使用`left`、`right`、`top`、`bottom`四个属性调整位置。

### 相对定位的参考点在哪里？

相对自己原来的位置。

### 相对定位的特点：

1. 不会脱离文档流，元素位置的变化，只是视觉效果上的变化，不会对其他元素产生任何影响。
2. 定位元素的显示层级普通元素高，无论什么定立，显示层级都是一样的。默认规则是：
   * 定位的元素会盖在普通元素之上。
   * 都发生定位的两个元素，后写的元素会盖在先写的元素之上。
3. `left`不能和`right`一起设置，`top`和`bottom`不能一起设置。
4. 相对定位元素，也能继续浮动，但推荐这样做。
5. 相对定位的元素，也能通过`margin`调整位置，但不推荐推荐这样做。

> 注意：绝大多数情况下，相对定位，会与绝对定位配合使用。

## 绝对定位

### 如何设置绝对定位？

* 给元素设置`position：absolute `即可实现绝对定位。
* 可以使用` left`、`right`、`top`、`bottom `四个属性调整位置。

### 绝对定位的参考点在哪里？

参考它的包含块。

什么是包含块？

1. 对于没有脱离文档流的元素：包含块就是父元素；
2. 对于脱离文档流的元素：包含块是第一个拥有定位属性的祖先元素（如果所有祖先都没定位，那包含块就是整个页面）。

### 绝对定位元素的特点

1. 脱离文档流，会对后面的兄弟元素、父元素有影响。
2. `left`不能和`right`一起设置，`top`和`bottom`不能一起设置。
3. 绝对定位、浮动不能同时设置，如果同时设置，浮动失效，以定位为主。
4. 绝对定位的元素，也能通过`margin` 调整位置，但不推荐这样做。
5. 无论是什么元素（行内、行内块、块级）设置为绝对定位之后，都变成了定位元素。

> 何为定位元素？一一默认宽、高都被内容所撑开，且能自由设置宽高。

## 固定定位

### 如何设置为固定定位？

* 给元素设置`position：fixed` 即可实现固定定位。

* 可以使用` left`、`right`、`top`、`bottom` 四个属性调整位置。

### 固定定位的参考点在哪里？

参考它的视口

> 什么是视口？－一对于PC浏览器来说，视口就是我们看网页的那扇“窗户”。

### 固定定位元素的特点

1. 脱离文档流，会对后面的兄弟元素、父元素有影响。
2. `left`不能和`right`一起设置，`top`和`bottom`不能一起设置。
3. 定定位和浮动不能同时设置，如果同时设置，浮动失效，以固定定位为主。
4. 固定定位的元素，也能通过margin调整位置，但不推荐这样做。
5. 无论是什么元素（行内、行内块、块级）设置为固定定位之后，都变成了定位元素。

## 粘性定位

### 如何设置为粘性定位？

* 给元素设置`position: sticky`即可实现粘性定位。
* 可以使用` left`、`right`、`top`、`bottom` 四个属性调整位置，不过最常用的是 `top `值。

### 粘性定位的参考点在哪里？

* 离它最近的一个拥有“滚动机制”的祖先元素，即便这个祖先不是最近的真实可滚动祖先。

### 粘性定位元素的特点

1. 不会脱离文档流，它是一种专门用于窗口滚动时的新的定位方式。
2. 最常用的值是top值。
3. 粘性定位和浮动可以同时设置，但不推荐这样做。
4. 粘性定位的元素，也能通过`margin `调整位置，但不推荐这样做。

> 粘性定位和相对定位的特点基本一致，不同的是：粘性定位可以在元素到达某个位置时将其固定。

## 定位层级

1. 定位元素的显示层级比普通元素高，无论什么定位，显示层级都是一样的。
2. 如果位置发生重叠，默认情况是：后面的元素，会显示在前面元素之上。
3. 可以通过css属性`z-index `调整元素的显示层级。
4. `z-index`的属性值是数字，没有单位，值越大显示层级越高。
5. 只有定位的元素设置 z-index 才有效。
6. 如果z-index值大的元素，依然没有覆盖掉z-index值小的元素，那么请检查其包含块的层级。

## 定位的特殊应用

前提知识：

1. 发生固定定位、绝对定位后，元素都变成了定位元素，默认宽高被内容撑开，且依然可以设置宽高。
2. 发生相对定位后，元素依然是之前的显示模式。
3. 以下所说的特殊应用，只针对绝对定位和固定定位的元素，不包括相对定位的元素。

### 让定位元素的宽高充满包含块

1. 块宽想与包含块一致，可以给定位元素同时设置`left `和`right`为`θ`。
2. 高度想与包含块一致，`top` 和 `bottom `设置为`θ`。

> 元素没有给定宽高的情况

### 让定位元素在包含块中居中

1. 方案一

   ```css
   left: 0;
   right: 0;
   top: 0;
   bottom: 0;
   margin: auto;
   ```

2. 方案二

   ```css
   left: 50%;
   top: 50%;
   margin-left：负的宽度一半;
   margin-top：负的高度一半;
   ```

> 该定位的元素必须设置宽高！！！

## 布局

### 版心

版心是页面中主要内容所在的区域。即每页版面正中的位置，又叫节口。版心通常有用作对折准绳的黑线和鱼尾形图案，有的还印有书名、卷数、页码及本页字数，明代以前，版心下方往往还印有刻工姓名。

### 常用布局名称

| 位置               | 常用名                 |
| ------------------ | ---------------------- |
| 顶部导航条         | topbar                 |
| 页头               | header、page-header    |
| 导航               | nav、navigator、navbar |
| 搜索框             | search、search-box     |
| 横幅、广告、宣传图 | banner                 |
| 主要内容           | content、main          |
| 侧边栏             | aside、sidebar         |
| 页脚               | footer、page-footer    |

### 重置默认样式

很多元素都有默认样式，比如：

1. `p`元素有默认的上下 `margin`。
2. `h1~h6 `标题也有上下` margin`，且字体加粗。
3. `body `元素有默认的 `8px` 外边距。
4. 超链接有默认的文字颜色和下划线。
5. `ul` 元素有默认的左` pading` 。
6. ...

在早期，元素默认样式，能够让我们快速的绘制网页，但如今网页的设计越来越复杂，内容越来越多，而且很精细，这些默认样式会给我们绘制页面带来麻烦；而且这些默认样式，在不同的浏览器上呈现出来的效果也不一样，所以我们需要重置这些默认样式。

#### 方案一：使用全局选择器

```css
* {
    margin: 0;
    padding: 0;
    ...
}
```

此种方法，在简单案例中可以用一下，但实际开发中不会使用，因为＊选择的是所有元素，而并不是所有的元素都有默认样式；而且我们重置时，有时候是需要做特定处理的，比如：想让`a`元素的文字是灰色，其他元素文字是蓝色。

#### 方案二：reset.css

选择到具有默认样式的元素，清空其默认的样式。经过reset 后的网页，好似“一张白纸”，开发人员可根据设计稿，精细的去添加具体的样式。

#### 方案三：Normalize.css

`Normalize.css`是一种最新方案，它在清除默认样式的基础上，保留了一些有价值的默认样式。官网地址: http://necolas.github.io/normalize.css/

相对于 `reset.css`，`Normalize.css `有如下优点：

1. 保护了有价值的默认样式，而不是完全去掉它们。
2. 为大部分HTML元素提供一般化的样式。
3. 新增对 HTML5 元素的设置。
4. 对并集选择器的使用比较谨慎，有效避免调试工具杂乱。

